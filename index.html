<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Home ‚Äî Cole Dashner</title>

  <!-- Basic SEO -->
  <meta name="description" content="Cole Dashner ‚Äî Computer Science & Engineering student at The Ohio State University, building practical systems and software." />
  <meta name="theme-color" content="#000000" />
  <meta name="author" content="Cole Dashner" />
  <meta name="robots" content="index,follow" />

  <!-- Social sharing (Open Graph) -->
  <meta property="og:title" content="Home ‚Äî Cole Dashner" />
  <meta property="og:description" content="Live weather-style dashboard plus projects and work from Cole Dashner, CSE student at OSU." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://coledashner.com/" />

  <link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght@8..144,100..1000&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#000000; /* iOS-style pure black */
      --panel:#1c1c1e; /* iOS dark secondary */
      --muted:#8e8e93; /* iOS dark muted */
      --text:#f2f2f7;  /* iOS label on dark */
      --accent:#0a84ff; /* iOS system blue */
      --accent-2:#32d74b; /* iOS system green */
      --ring:rgba(10,132,255,.45);
      --radius:16px;
      --shadow:0 10px 30px rgba(0,0,0,.5);
    }
    @media (prefers-color-scheme: light){
      :root{--bg:#f2f2f7;--panel:#ffffff;--muted:#6c6c70;--text:#1c1c1e;--accent:#0a84ff;--accent-2:#34c759;--ring:rgba(10,132,255,.25)}
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:radial-gradient(1200px 600px at 10% -10%, rgba(96,165,250,.15), transparent 60%),
                 radial-gradient(900px 500px at 110% 0%, rgba(52,211,153,.10), transparent 50%),
                 var(--bg);
      color:var(--text);
      line-height:1.6;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:1100px; margin:0 auto; padding:24px}
    header{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:12px 0}
    .logo{font-weight:800; letter-spacing:.5px}
    nav a{margin:0 10px; font-weight:600}
    nav a.active{color:var(--accent-2);}
    .card{background:var(--panel); border:1px solid rgba(148,163,184,.18); border-radius:var(--radius); padding:22px; box-shadow:var(--shadow)}
    h1{font-size:clamp(28px, 5vw, 40px); margin:0 0 12px}
    h2{font-size:clamp(22px, 3vw, 28px); margin:0 0 10px}
    .muted{color:var(--muted)}
    .section{margin-top:30px}
    .footer{padding:30px 0; font-size:14px; color:var(--muted); text-align:center}
    ul{padding-left:18px}
    @media (max-width: 900px){
      header{flex-direction:column; align-items:flex-start}
    }

    /* animated name */
    .variable-proximity { font-family: 'Roboto Flex', sans-serif; display: inline; position: relative; }
    .variable-proximity .word { display: inline-block; white-space: nowrap; }
    .variable-proximity .letter { display: inline-block; will-change: font-variation-settings; }
    .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

    /* Weather dashboard styles */
    .pill{
      display:inline-block;
      padding:10px 14px;
      border-radius:999px;
      background:rgba(10,132,255,.12);
      border:1px solid rgba(10,132,255,.45);
      color:var(--text);
      text-decoration:none;
      font-size:0.9rem;
    }
    .weather-card{
      display:flex;
      flex-direction:column;
      gap:16px;
    }
    .weather-header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      flex-wrap:wrap;
    }
    .weather-header-main{
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .weather-location{
      font-size:0.95rem;
      color:var(--muted);
    }
    .weather-meta{
      font-size:0.8rem;
      color:var(--muted);
    }
    .weather-current{
      display:flex;
      align-items:flex-end;
      gap:8px;
      margin-top:6px;
    }
    .weather-temp-now{
      font-size:clamp(40px, 7vw, 56px);
      font-weight:700;
    }
    .weather-condition{
      font-size:1rem;
      color:var(--muted);
    }
    .weather-emoji{
      font-size:2rem;
      line-height:1;
    }
    .weather-hi-lo{
      display:flex;
      gap:10px;
      font-size:0.95rem;
      color:var(--muted);
    }
    .weather-hi-lo span strong{
      color:var(--text);
    }
    .weather-tagline{
      font-size:0.9rem;
      color:var(--muted);
      max-width:420px;
    }

    .hourly-wrapper{
      border-top:1px solid rgba(148,163,184,.25);
      padding-top:14px;
    }
    .hourly-title-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:8px;
      font-size:0.9rem;
      color:var(--muted);
    }
    .hourly-scroll{
      display:flex;
      gap:10px;
      overflow-x:auto;
      padding-bottom:4px;
      margin:0 -6px;
      padding-left:6px;
      padding-right:6px;
      scroll-snap-type:x mandatory;
    }
    .hourly-scroll::-webkit-scrollbar{
      height:4px;
    }
    .hourly-scroll::-webkit-scrollbar-thumb{
      background:rgba(148,163,184,.35);
      border-radius:999px;
    }
    .hour-card{
  min-width:70px;
  padding:8px 10px;
  border-radius:14px;
  /* lighter background for better readability */
  background:rgba(148,163,184,.18);
  border:1px solid rgba(148,163,184,.5);
  text-align:center;
  font-size:0.8rem;
  scroll-snap-align:start;
}

    }
    .hour-card-time{
      color:var(--muted);
      margin-bottom:4px;
      font-size:0.78rem;
    }
    .hour-card-emoji{
      font-size:1.2rem;
      margin-bottom:4px;
    }
    .hour-card-temp{
      font-weight:600;
      margin-bottom:2px;
    }
    .hour-card-meta{
      color:var(--muted);
      font-size:0.7rem;
    }
    .badge-now{
      display:inline-block;
      padding:2px 6px;
      border-radius:999px;
      background:rgba(10,132,255,.15);
      border:1px solid rgba(10,132,255,.5);
      font-size:0.7rem;
      margin-left:4px;
    }

    .welcome-text{
      font-size:0.9rem;
      color:var(--muted);
      margin-top:4px;
      max-width:520px;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
  <!-- animated name -->
  <a href="/" id="name-container" class="logo" style="position: relative;">
    <span
      id="variable-proximity"
      class="variable-proximity"
      data-label="Cole Dashner"
      data-from="'wght' 400, 'opsz' 12"
      data-to="'wght' 1000, 'opsz' 40"
      data-radius="100"
      data-falloff="linear"
    ></span>
  </a>
  <nav>
    <a href="/" class="active">Home</a>
    <a href="about.html">About</a>
    <a href="projects.html">Projects</a>
    <a href="mailto:dashnercole@gmail.com">Contact</a>
  </nav>
</header>


    <main>
      <section class="section card weather-card">
        <div class="weather-header">
          <div class="weather-header-main">
            <span class="pill">Columbus Weather Dashboard</span>
            <h1 id="weather-title">Columbus, OH</h1>
            <div class="weather-location">
              Live snapshot ‚Ä¢ Fahrenheit ‚Ä¢ Next 24 hours
            </div>
            <div class="weather-current">
              <span class="weather-temp-now" id="current-temp">--¬∞</span>
              <div>
                <div class="weather-condition">
                  <span id="current-emoji" class="weather-emoji">‚òÅÔ∏è</span>
                  <span id="current-summary">Loading...</span>
                </div>
                <div class="weather-meta" id="updated-time">Updated ‚Äî</div>
              </div>
            </div>
            <div class="weather-hi-lo">
              <span>High: <strong id="high-temp">--¬∞</strong></span>
              <span>Low: <strong id="low-temp">--¬∞</strong></span>
            </div>
          </div>
          <div class="weather-tagline">
            Example text you can change:  
            I‚Äôm a Computer Science & Engineering student at The Ohio State University, and I like building
            systems that feel as usable and clean as apps you‚Äôd actually want on your home screen.
          </div>
        </div>

        <div class="hourly-wrapper">
          <div class="hourly-title-row">
            <span>Next 24 hours</span>
            <span id="hourly-label" class="muted">Hourly temperature &amp; conditions</span>
          </div>
          <div class="hourly-scroll" id="hourly-strip">
            <!-- Hourly cards injected via JavaScript -->
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      ¬© <span id="year"></span> Cole Dashner
    </footer>
  </div>

  <script>
    // year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // animated name (same logic as About page)
    (function(){
      const parseSettings = (str) => {
        const map = new Map();
        str.split(',').map(s => s.trim()).forEach(entry => {
          const parts = entry.trim().split(' ');
          const axisRaw = parts[0];
          const valRaw = parts[1];
          map.set(axisRaw.replace(/['"]/g, ''), parseFloat(valRaw));
        });
        return map;
      };
      const lerp = (a,b,t)=>a+(b-a)*t;
      const dist = (x1,y1,x2,y2)=>Math.hypot(x2-x1,y2-y1);
      const falloffFn = (type, d, r) => {
        const n = Math.min(Math.max(1 - d/r, 0), 1);
        if (type === 'exponential') return n*n;
        if (type === 'gaussian') return Math.exp(-((d/(r/2))*(d/(r/2)))/2);
        return n; // linear
      };

      const container = document.getElementById('name-container');
      const span = document.getElementById('variable-proximity');
      if (!container || !span) return;

      const label = span.dataset.label || 'Cole Dashner';
      const fromStr = span.dataset.from || "'wght' 400, 'opsz' 12";
      const toStr   = span.dataset.to   || "'wght' 1000, 'opsz' 40";
      const radius  = Number(span.dataset.radius || 100);
      const falloff = (span.dataset.falloff || 'linear').toLowerCase();

      const from = parseSettings(fromStr);
      const to   = parseSettings(toStr);
      const axes = Array.from(from.entries()).map(([axis, fromVal]) => ({
        axis, fromVal, toVal: to.has(axis) ? to.get(axis) : fromVal
      }));

      span.innerHTML = '';
      const words = label.split(' ');
      const letters = [];
      words.forEach((word, wi) => {
        const w = document.createElement('span');
        w.className = 'word';
        word.split('').forEach(ch => {
          const l = document.createElement('span');
          l.className = 'letter';
          l.textContent = ch;
          l.style.fontVariationSettings = fromStr;
          w.appendChild(l);
          letters.push(l);
        });
        span.appendChild(w);
        if (wi < words.length - 1) span.appendChild(document.createTextNode(' '));
      });
      const sr = document.createElement('span');
      sr.className = 'sr-only'; sr.textContent = label; span.appendChild(sr);

      const pos = { x: 0, y: 0 };
      const updatePos = (cx, cy) => {
        const rect = container.getBoundingClientRect();
        pos.x = cx - rect.left; pos.y = cy - rect.top;
      };
      container.addEventListener('mousemove', e => updatePos(e.clientX, e.clientY), { passive:true });
      container.addEventListener('touchmove', e => {
        if (e.touches[0]) updatePos(e.touches[0].clientX, e.touches[0].clientY);
      }, { passive:true });

      let last = { x:null, y:null };
      function frame(){
        if (last.x !== pos.x || last.y !== pos.y) {
          last = { x: pos.x, y: pos.y };
          const cRect = container.getBoundingClientRect();
          letters.forEach(el => {
            const r = el.getBoundingClientRect();
            const cx = (r.left + r.width/2) - cRect.left;
            const cy = (r.top + r.height/2) - cRect.top;
            const d = dist(pos.x, pos.y, cx, cy);
            if (d >= radius) {
              el.style.fontVariationSettings = axes
                .map(({axis, fromVal}) => `'${axis}' ${fromVal}`)
                .join(', ');
            } else {
              const t = falloffFn(falloff, d, radius);
              el.style.fontVariationSettings = axes
                .map(({axis, fromVal, toVal}) => `'${axis}' ${lerp(fromVal, toVal, t)}`)
                .join(', ');
            }
          });
        }
        requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
    })();

    // Weather widget ‚Äî Columbus, OH ‚Äî Fahrenheit ‚Äî Next 24 hours
    (function(){
      const currentTempEl = document.getElementById('current-temp');
      const currentSummaryEl = document.getElementById('current-summary');
      const currentEmojiEl = document.getElementById('current-emoji');
      const highTempEl = document.getElementById('high-temp');
      const lowTempEl = document.getElementById('low-temp');
      const updatedTimeEl = document.getElementById('updated-time');
      const hourlyStripEl = document.getElementById('hourly-strip');

      // Columbus, OH coordinates
      const latitude = 39.9612;
      const longitude = -82.9988;

      const url = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&hourly=temperature_2m,precipitation_probability,weathercode&daily=temperature_2m_max,temperature_2m_min&temperature_unit=fahrenheit&timezone=America%2FNew_York&forecast_days=1&current_weather=true`;

      function getWeatherIconAndLabel(code){
        // Open-Meteo weathercode mapping (simplified)
        if (code === 0) return { emoji: '‚òÄÔ∏è', label: 'Clear' };
        if (code === 1 || code === 2) return { emoji: 'üå§Ô∏è', label: 'Mostly clear' };
        if (code === 3) return { emoji: '‚òÅÔ∏è', label: 'Cloudy' };
        if (code === 45 || code === 48) return { emoji: 'üå´Ô∏è', label: 'Foggy' };
        if (code === 51 || code === 53 || code === 55) return { emoji: 'üå¶Ô∏è', label: 'Drizzle' };
        if (code === 61 || code === 63 || code === 65) return { emoji: 'üåßÔ∏è', label: 'Rain' };
        if (code === 66 || code === 67) return { emoji: 'üåßÔ∏è', label: 'Freezing rain' };
        if (code === 71 || code === 73 || code === 75) return { emoji: 'üå®Ô∏è', label: 'Snow' };
        if (code === 95) return { emoji: '‚õàÔ∏è', label: 'Thunderstorm' };
        if (code === 96 || code === 99) return { emoji: '‚õàÔ∏è', label: 'Thunderstorm w/ hail' };
        return { emoji: 'üå°Ô∏è', label: 'Mixed conditions' };
      }

      function formatTimeLabel(date){
  const hours = date.getHours();
  const ampm = hours >= 12 ? 'PM' : 'AM';
  const h12 = hours % 12 || 12;
  return `${h12} ${ampm}`;
}


      async function loadWeather(){
        try{
          const res = await fetch(url);
          if (!res.ok) throw new Error('Network error');
          const data = await res.json();

          // Current
          const current = data.current_weather;
          const daily = data.daily;
          const hourly = data.hourly;

          const { emoji, label } = getWeatherIconAndLabel(current.weathercode);
          currentTempEl.textContent = `${Math.round(current.temperature)}¬∞`;
          currentSummaryEl.textContent = label;
          currentEmojiEl.textContent = emoji;

          highTempEl.textContent = `${Math.round(daily.temperature_2m_max[0])}¬∞`;
          lowTempEl.textContent = `${Math.round(daily.temperature_2m_min[0])}¬∞`;

          const updated = new Date(current.time);
          updatedTimeEl.textContent = `Updated ${updated.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' })}`;

          // Hourly cards for next 24 hours
          hourlyStripEl.innerHTML = '';
          const now = new Date();
          const times = hourly.time;
          const temps = hourly.temperature_2m;
          const pops = hourly.precipitation_probability;
          const codes = hourly.weathercode;

          // find index of first hour >= now
          let startIndex = 0;
          for (let i = 0; i < times.length; i++){
            const t = new Date(times[i]);
            if (t >= now){
              startIndex = i;
              break;
            }
          }
          const endIndex = Math.min(startIndex + 24, times.length);

          for (let i = startIndex; i < endIndex; i++){
            const t = new Date(times[i]);
            const isFirst = (i === startIndex);
            const { emoji: e, label: lbl } = getWeatherIconAndLabel(codes[i]);

            const card = document.createElement('div');
            card.className = 'hour-card';

            const timeEl = document.createElement('div');
            timeEl.className = 'hour-card-time';
            timeEl.textContent = formatTimeLabel(t);
            if (isFirst){
              const badge = document.createElement('span');
              badge.className = 'badge-now';
              badge.textContent = 'Now';
              timeEl.appendChild(document.createTextNode(' '));
              timeEl.appendChild(badge);
            }

            const emojiEl = document.createElement('div');
            emojiEl.className = 'hour-card-emoji';
            emojiEl.textContent = e;

            const tempEl = document.createElement('div');
            tempEl.className = 'hour-card-temp';
            tempEl.textContent = `${Math.round(temps[i])}¬∞`;

            const metaEl = document.createElement('div');
            metaEl.className = 'hour-card-meta';
            const popVal = pops && pops[i] != null ? `${pops[i]}%` : '';
            metaEl.textContent = popVal ? `${lbl} ‚Ä¢ ${popVal}` : lbl;

            card.appendChild(timeEl);
            card.appendChild(emojiEl);
            card.appendChild(tempEl);
            card.appendChild(metaEl);

            hourlyStripEl.appendChild(card);
          }

          if (!hourlyStripEl.children.length){
            hourlyStripEl.innerHTML = '<div class="muted" style="font-size:0.85rem;">Hourly forecast is temporarily unavailable.</div>';
          }
        } catch (err){
          console.error(err);
          currentSummaryEl.textContent = 'Unable to load weather right now.';
          updatedTimeEl.textContent = '';
          hourlyStripEl.innerHTML = '<div class="muted" style="font-size:0.85rem;">Check your connection and refresh to see the forecast.</div>';
        }
      }

      loadWeather();
    })();
  </script>
</body>
</html>
